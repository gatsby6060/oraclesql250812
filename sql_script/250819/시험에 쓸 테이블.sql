-- 1. 직원 테이블
CREATE TABLE TBL_EMP (
  emp_id CHAR(5) PRIMARY KEY,
  emp_name VARCHAR2(20),
  job_title VARCHAR2(20),
  manager_id CHAR(5), -- SELF JOIN 가능
  hire_date DATE,
  salary NUMBER,
  dept_id CHAR(3)
);

-- 2. 부서 테이블
CREATE TABLE TBL_DEPT (
  dept_id CHAR(3) PRIMARY KEY,
  dept_name VARCHAR2(30),
  location VARCHAR2(20),
  head_id CHAR(5) -- 부서장 (employee.emp_id)
);

-- 3. 프로젝트 테이블
CREATE TABLE TBL_PROJECT (
  proj_id CHAR(4) PRIMARY KEY,
  proj_name VARCHAR2(30),
  start_date DATE,
  end_date DATE,
  budget NUMBER(10,2),
  dept_id CHAR(3)
);

-- 4. 업무 배정 테이블
CREATE TABLE TBL_ASSIGNMENT (
  emp_id CHAR(5),
  proj_id CHAR(4),
  role VARCHAR2(20),
  hours_per_week NUMBER(3)
);

TBL_EMP – 직원 정보 (SELF JOIN 가능: 상사 관계)
TBL_DEPT – 부서 정보
TBL_PROJECT – 프로젝트 정보
TBL_ASSIGNMENT – 직원이 프로젝트에 배정된 정보

-- 직원
INSERT INTO TBL_EMP VALUES ('E1001', '김서준', '사장', NULL, TO_DATE('2015-03-01','YYYY-MM-DD'), 12000000, 'D01');
INSERT INTO TBL_EMP VALUES ('E1002', '이하늘', '이사', 'E1001', TO_DATE('2016-05-15','YYYY-MM-DD'), 9500000, 'D01');
INSERT INTO TBL_EMP VALUES ('E1003', '박지민', '부장', 'E1002', TO_DATE('2017-08-20','YYYY-MM-DD'), 8500000, 'D02');
INSERT INTO TBL_EMP VALUES ('E1004', '최유리', '과장', 'E1003', TO_DATE('2018-11-10','YYYY-MM-DD'), 6700000, 'D02');
INSERT INTO TBL_EMP VALUES ('E1005', '정우성', '사원', 'E1004', TO_DATE('2020-02-01','YYYY-MM-DD'), 4200000, 'D02');
INSERT INTO TBL_EMP VALUES ('E1006', '김보라', '사원', 'E1004', TO_DATE('2021-06-15','YYYY-MM-DD'), 4100000, 'D02');
INSERT INTO TBL_EMP VALUES ('E1007', '한지민', '대리', 'E1003', TO_DATE('2019-03-01','YYYY-MM-DD'), 5200000, 'D03');

-- 부서
INSERT INTO TBL_DEPT VALUES ('D01', '경영지원팀', '서울', 'E1001');
INSERT INTO TBL_DEPT VALUES ('D02', '개발팀', '판교', 'E1003');
INSERT INTO TBL_DEPT VALUES ('D03', '마케팅팀', '부산', 'E1007');

-- 프로젝트
INSERT INTO TBL_PROJECT VALUES ('P001', '모바일 앱 개발', TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-12-31','YYYY-MM-DD'), 50000000, 'D02');
INSERT INTO TBL_PROJECT VALUES ('P002', '웹 리뉴얼', TO_DATE('2023-03-01','YYYY-MM-DD'), TO_DATE('2023-11-30','YYYY-MM-DD'), 30000000, 'D02');
INSERT INTO TBL_PROJECT VALUES ('P003', '광고 캠페인', TO_DATE('2023-05-01','YYYY-MM-DD'), TO_DATE('2023-12-01','YYYY-MM-DD'), 20000000, 'D03');

-- 프로젝트 배정
INSERT INTO TBL_ASSIGNMENT VALUES ('E1004', 'P001', 'PM', 20);
INSERT INTO TBL_ASSIGNMENT VALUES ('E1005', 'P001', '개발자', 35);
INSERT INTO TBL_ASSIGNMENT VALUES ('E1006', 'P001', '디자이너', 30);
INSERT INTO TBL_ASSIGNMENT VALUES ('E1005', 'P002', '개발자', 30);
INSERT INTO TBL_ASSIGNMENT VALUES ('E1007', 'P003', '마케터', 25);

COMMIT;

SELECT * FROM TBL_EMP;
SELECT * FROM TBL_DEPT;
SELECT * FROM TBL_PROJECT;
SELECT * FROM TBL_ASSIGNMENT;